// C++ code
int sec = 0;

String lastLetter = "";

void setup()
{
  pinMode(4, INPUT);
  pinMode(3, OUTPUT);
  Serial.begin(9600);
  pinMode(7, INPUT);
}

void loop()
{
  if (digitalRead(4) == 1)
  {
    analogWrite(3, 255);
  }
  else
  {
    analogWrite(3, 0);
  }

  while (digitalRead(4) == 1)
  {
    while (digitalRead(4) ==1)
    {
      sec = (sec + 1);
      //Serial.println(sec);
    }
    
    if (sec < 50)
    {
      lastLetter += "0";
    }
    else lastLetter += "1";
  }
  
  sec = 0;

  if (digitalRead(7) == 1)
  {
    //Serial.println(lastLetter);
    switchMethod(lastLetter);
    lastLetter = "";
  }

  delay(10); // Delay a little bit to improve simulation performance
}

char improvisedSwitch(String a)
{
  if(a=="01") return 'a';
  else if(a=="1000") return'b';
  else if(a=="1010") return'c';
  else if(a=="100") return'd';
  else if(a=="0") return'e';
  else if(a=="0010") return'f';
  else if(a=="110") return'g';
  else if(a=="0000") return'h';
  else if(a=="00") return'i';
  else if(a=="0111") return'g';
  else if(a=="101") return'k';
  else if(a=="0100") return'l';
  else if(a=="11") return'm';
  else if(a=="10") return'n';
  else if(a=="111") return'o';
  else if(a=="0110") return'p';
  else if(a=="1101") return'q';
  else if(a=="010") return'r';
  else if(a=="000") return's';
  else if(a=="1") return't';
  else if(a=="001") return'u';
  else if(a=="0001") return'v';
  else if(a=="011") return'w';
  else if(a=="1001") return'x';
  else if(a=="1011") return'y';
  else if(a=="1100") return'z';
  else return " ";
}
